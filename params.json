{"name":"Ezrbac","tagline":"A simple yet easy to implement Role Based Access Control Library for popular PHP framework Codeigniter","body":"ezRbac\r\n======\r\nA simple yet easy to implement Role Based Access Control Library for popular PHP framework Codeigniter\r\n\r\n\r\nKey Features\r\n============\r\n* Easy to integrate with Codeigniter Application\r\n* User Login system with password recovery integrated\r\n* Easy To Customize!!!\r\n* Integrated Access Control Management Interface\r\n* Configurable DB Table name\r\n* Support Clean Url routing!\r\n* Easy to adapt existing schema just by editing config file!!\r\n* Usable with your existing login system!\r\n* [Api](#ezrbac-api-reference) to interact with library\r\n* User meta table include profile data (like: name, address etc)for an user\r\n* Mailer function override to send recovery email using your own function\r\n* Configuration and view files can be overridden!\r\n* Coming more....!!!\r\n\r\n\r\nCurrent Stable Release\r\n======================\r\n[v1.2.2 Released](https://github.com/xiidea/ezRbac/archive/v1.2.2.zip)!\r\n\r\n \r\nHow To Install\r\n==============\r\nInstallation of this library is simple 4 steps\r\n\r\n1. Put **ezRbac** in the **third_party** Directory of your application\r\n\r\n2. Run the SQL in schema directory or create three tables in your database manually.\r\n\r\n3. Set <code>$config['enable_hooks'] = TRUE;</code> at **./application/config/config.php**\r\n\r\n4. Add a hook in **./application/config/hooks.php** \r\n\r\n```php\r\n$hook['post_controller_constructor'] = array(\r\n    'class' => 'ezRbacHook',\r\n    'function' => 'AccessCheck',\r\n    'filename' => 'ezRbacHook.php',\r\n    'filepath' => 'third_party/ezRbac'\r\n);\r\n```\r\n\r\nMap custom actions to access map\r\n================================\r\nDefine a public function named access_map in your controller something like bellow:   \r\n\r\n```php\r\n public function access_map(){\r\n        return array(\r\n            'index'=>'view',\r\n            'update'=>'edit'\r\n        );\r\n    }\r\n```\r\nThe index of the array is the actual action name, and the value mapped to the access privileges configured as <code>$config['default_access_map'] = array(\"view\", \"create\", \"edit\", \"delete\", \"publish\")<code>\r\n\r\n\r\n##Default credential   \r\nIf you have imported the provided data.sql then the default credential is\r\n\r\n    user: \t\tadmin@admin.com\r\n    password: \t123456\r\n\r\n\r\nezRbac Specific URL\r\n===================\r\nlogout url : <code>/index.php/welcome/index/rbac/logout</code>\r\n\r\nacl manage url : <code>/index.php/welcome/index/rbac/gui</code>\r\n\r\nIf you have enabled the routing(see **How to eneable Routing**) then you can access all url like <code> /rbac/(logout|gui)</code>\r\n\r\nHow to enable Routing\r\n======================\r\nIts easy to enable with 2 steps\r\n\r\n1. Set <code>$config['use_routing'] = true;</code> at **./ezRbac/config/ez_rbac.php**\r\n\r\n2. set <code>$route['^(rbac)/(.+)$'] = $route['default_controller'].\"/index/$1/$2\"; </code> at **/application/config/routes.php** (where **rbac** can be replaced whatever you like by setting the <code>$config['ezrbac_url'] = 'rbac';</code>)\r\n\r\nCustomization\r\n=============\r\nMost of the customization can be done through setting configuration values. you can customize configuration in two ways:\r\n\r\n1. (The Easy way) Modify the configuration to match with your choice at **./third_party/ezRbac/config/ez_rbac.php**\r\n2. (The Advanced way) Make a copy of **./third_party/ezRbac/config/ez_rbac.php** as **./application/config/ez_rbac.php** or Create new file to override the default settings. These way whenever you do update the library, you do not need to worry about your configuration values.\r\n\r\nYou can override the view file also. just copy the view files into **/application/views/ezrbac/** and modify as per your need. Currently only views in **login** directory is extensible.\r\n\r\nConfiguration Options\r\n=====================\r\n* **public_controller**    \r\ntype: array    \r\ndefault : array()    \r\nList of public controller which access will not be checked by our library\r\n\r\n* **ajax_no_permission_msg**    \r\ntype: string  \r\ndefault : You do not have permission to perform this action!\r\nMessage to return while performing an ajax request instead of viewing the full restricted page, so you can handle the situation by your self.\r\n\r\n* **default_access**  \r\ntype: boolean  \r\ndefault : FALSE  \r\nThe default access for a unknown method TRUE for give access denied otherwise.\r\n\r\n* **default_access_map**  \r\ntype: array  \r\ndefault : array(\"view\", \"create\", \"edit\", \"delete\", \"publish\")  \r\nAccess Map array Used by the system. You can name these as you like and you can add/remove access name.\r\n\r\n* **autologin_cookie_life**  \r\ntype: int  \r\ndefault : 2592000 (30 days)  \r\nThe time in second to remember user login session with remember me checked.\r\n\r\n* **autologin_cookie_name**  \r\ntype: string  \r\ndefault : ezrbac_remember_me  \r\nThe autologin cookie name used to store user data  with remember me checked.\r\n\r\n* **redirect_url**  \r\ntype: string  \r\ndefault : \"\"  \r\nThe redirect url if access denied for a resource url(should be a public controller). Leave it empty if you are not sure about this\r\n\r\n* **login_url**  \r\ntype: string  \r\ndefault : \"\"  \r\nIf you like to handle login then set your login url(should be a public controller) here, Leave it empty to let me handle it!! when you handling login,\r\nuse <code>$this->ezrbac->getCurrentUser($user)</code> to register the user session.\r\n\r\n* **login_session_key**  \r\ntype: string  \r\ndefault : access_role  \r\nLogin check session key name,  used to check if a user is logged in or not. Without modification of core library,\r\nyou may use any of these: user_id/user_email/access_role\r\n\r\n* **password_min_length**  \r\ntype: int  \r\ndefault : 6  \r\nThe password validation rule check for minimum length.\r\n\r\n* **password_recovery_email**  \r\ntype: string  \r\ndefault : noreply@yourdomain.com  \r\nThe From email for password recovery email\r\n\r\n* **password_recovery_email_name**  \r\ntype: string  \r\ndefault : EzRbac  \r\nThe From name for password recovery email\r\n\r\n* **password_recovery_subject**  \r\ntype: string  \r\ndefault : Password Reset Request  \r\nThe subject for password recovery email\r\n\r\n* **auto_login_table**  \r\ntype: string  \r\ndefault : user_autologin  \r\nThe database table name used to store auto login data\r\n\r\n* **user_table**  \r\ntype: string  \r\ndefault : system_users  \r\nThe database table  name used to store user data\r\n\r\n* **user_meta_table**  \r\ntype: string  \r\ndefault : user_meta  \r\nThe database table  name used to store user meta data\r\n\r\n* **user_role_table**  \r\ntype: string  \r\ndefault : user_role  \r\nThe database table  name used to store user role info\r\n\r\n* **access_map_table**  \r\ntype: string  \r\ndefault : user_access_map  \r\nThe database table  name used to store Access Control List as per user role\r\n\r\n* **schema_user_table**  \r\ntype: array  \r\n```php \r\ndefault : array(\r\n          'id'                  => 'id',\r\n          'email'               => 'email',\r\n          'password'            => 'password',\r\n          'salt'                => 'salt',\r\n          'user_role_id'        => 'user_role_id',\r\n          'last_login'          => 'last_login',\r\n          'last_login_ip'       => 'last_login_ip',\r\n          'reset_request_code'  => 'reset_request_code',\r\n          'reset_request_time'  => 'reset_request_time',\r\n          'reset_request_ip'    => 'reset_request_ip',\r\n          'verification_status' => 'verification_status',\r\n          'status'              => 'status'\r\n      );  \r\n```   \r\nThe database field map for your existing system. Helpful to adapt your db without modifying the code!!\r\n\r\n* **schema_user_role**  \r\ntype: array  \r\ndefault : <code> array(\r\n              'id'        => 'id',\r\n              'role_name' => 'role_name'\r\n          );</code>  \r\nThe database field map for your existing system. Helpful to adapt your db without modifying the code!!\r\n\r\n* **user_meta_user_id**  \r\ntype: string  \r\ndefault : user_id  \r\nThe foreign key name in user meta table\r\n\r\n* **show_password_reset_mail**  \r\ntype: boolean  \r\ndefault : FALSE  \r\nEnable showing the email on browser rather then sending it. for debug purpose. do not set true in the production\r\n\r\n* **override_email_function**  \r\ntype: string|false  \r\ndefault : FALSE  \r\nYou can use your own function to send email. if you set this value to 'name_of_your_function'. <code>name_of_your_function($option)</code> will be called to send email\r\nwhere <code>$option = array('subject'=>'','from'=>'', 'from_name'=>'', 'to'=>'','body'=>'');</code>\r\n\r\n* **enable_ezrbac_gui**  \r\ntype: boolean  \r\ndefault : TRUE  \r\nEnable or disable the management interface\r\n\r\n* **ezrbac_gui_url**  \r\ntype: string  \r\ndefault : gui  \r\nUrl identifier for ezrbac gui interface access\r\n\r\n* **ezrbac_password**  \r\ntype: string  \r\ndefault : hardtoremember  \r\nPassword to access management interface of ACL\r\n\r\n* **ezrbac_url**  \r\ntype: string  \r\ndefault : rbac  \r\nEzrbac specific url identifier.\r\n\r\n* **use_assets_within_package**  \r\ntype: boolean  \r\ndefault : TRUE  \r\nThis configuration value tell the library from where it should use the resource. if set to true the js/css/images used in the library views will be served from the assets directory in package (helpful for quick setup).\r\nFor advance user it will be better to copy the contents of assets directory in a web accessible location\r\nand set the <code>$config['assets_base_directory']='the/relative/path/of/assets/directory/from/root' </code>\r\n\r\n* **assets_base_directory**  \r\ntype: string  \r\ndefault : rbac  \r\nOptional only used if you set the the <code>$config['use_assets_within_package']=false; </code>\r\nThen set the relative path of assets directory from root\r\n\r\n\r\n* **use_routing**  \r\ntype: boolean  \r\ndefault : FALSE  \r\nenable clean url for management interface by adding routing rule. if <code>$config['ezrbac_url']='rbac'</code> then you can add <code>$route['^(rbac)/(.+)$'] = $route['default_controller'].\"/index/$1/$2\"; </code> and set the value to true.\r\n\r\nezRbac Api reference\r\n=====================\r\nYou can use this api from your controller to interact with this library. Api methods are accessible through ezrbac property of controller.\r\nFor an example you can use $this->ezrbac->getCurrentUser() from your controller to get the user object for logged in user.\r\n\r\nAvailable API\r\n==============\r\n* getCurrentUser() - return the user object for logged in user\r\n* getCurrentUserID() - return the user id for logged in user\r\n* isGuest() - check if accessing as guest user or not\r\n* createUser($userdata) - create new user with provided [$userdata][1] parameter\r\n* updateUser($userdata) - update existing user with provided [$userdata][1] parameter\r\n* registerUserSession($user) - Helpful if you have your login verification script, you can register session just by passing the user object\r\n* getUserMeta($user) - return the user meta data\r\n* getUserByID($user_id) - find and return user object by user ID\r\n* logoutUrl() - return the logout url\r\n\r\n$userdata details\r\n=================\r\nThe **$userdata** array can contain the following fields\r\n\r\n* **id**              - An integer The user id(while update only)\r\n* **user_role**       - A string that contain User Role of the user(you can provide user role or the **user_role_id** whatever you like if provided role is not exist it will be created).\r\n* **user_role_id**    - An integer that contain User Role ID of the user(You have to provide only if you did not give the **user_role** ).\r\n* **user_meta**       - An array containing user meta data. array must be as per schema definition of user_meta table. You have full freedom to create your meta_table with your requirement. for example table you can provide the value as <code>array('first_name'=>'First', 'last_name'=>'Last')</code>\r\n* **email**           - A string that contain user email address\r\n* **password**        - A string that contain plain password for the user\r\n* **status**          - An integer 0(Active user) or 1(Disabled User)\r\n\r\nDependencies\r\n============\r\nTo use this library you need **Codeigniter 2.1**\r\n\r\n[1]: #userdata-details\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}